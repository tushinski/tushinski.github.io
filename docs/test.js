(()=>{"use strict";function e(e){for(var t=[],n=0;n<e;n++)t.push(n);return t}function t(e,t,n){var r=e.slice(0,t);return r.push(n),r.concat(e.slice(t))}var n=function(t){var n=e(t);return{union:function(e,t){var r=n[e],i=n[t];for(var o in n)n[o]===r&&(n[o]=i)},isConnected:function(e,t){return n[e]===n[t]}}},r=function(t){var n=e(t);function r(e){for(;n[e]!==e;)e=n[e];return e}return{union:function(e,t){var i=r(t),o=r(e);n[o]=n[i]},isConnected:function(e,t){return r(e)===r(t)}}},i=function(t){var n=e(t),r=n.map((function(){return 1}));function i(e){for(;n[e]!==e;)e=n[e];return e}return{union:function(e,t){var o=i(t),u=i(e);r[u]>r[o]?(n[o]=n[u],r[u]+=r[o]):(n[u]=n[o],r[o]+=r[u])},isConnected:function(e,t){return i(e)===i(t)}}},o=function(t){var n=e(t),r=n.map((function(){return 1}));function i(e){for(;n[e]!==e;)n[e]=n[n[e]],e=n[e];return e}return{union:function(e,t){var o=i(t),u=i(e);r[u]>r[o]?(n[o]=n[u],r[u]+=r[o]):(n[u]=n[o],r[o]+=r[u])},isConnected:function(e,t){return i(e)===i(t)}}};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f,h=s((function e(t,n){c(this,e),this.value=t,this.next=n})),l=function(){function e(){c(this,e),u(this,"head",void 0),u(this,"_size",0)}return s(e,[{key:"pop",value:function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this._size--,e}}},{key:"push",value:function(e){this.head=new h(e,this.head),this._size++}},{key:"size",get:function(){return this._size}},{key:"toArray",value:function(){for(var e=[],t=this.head;t;)e.unshift(t.value),t=t.next;return e}}]),e}();function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=p((function e(t,n,r){x(this,e),this.value=t,this.next=n,this.prev=r}));f=Symbol.iterator;var w=function(){function e(){var t=this;x(this,e),v(this,"head",void 0),v(this,"tail",void 0),v(this,"_size",0),v(this,f,(function(){var e,n=t.head;return{next:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(n){var t={value:n.value,done:!1};return e=n,n=n.next,t}return e=void 0,{done:!0}})),prev:function(){var r,i;return n?(r={value:null===(i=n.prev)||void 0===i?void 0:i.value,done:!1},n=n.prev||n):t.size?(r={value:t.tail.value,done:!1},n=e=t.tail):r={done:!0},r},insert:function(r){t.insertBefore(n,r),e=void 0},remove:function(){if(!e)throw new Error("Cannot remove current element: no current element.");t.removeNode(e)}}}))}return p(e,[{key:"getNode",value:function(e){for(var t=this.head,n=0;n!==e&&(t=t.next);)n++;return t}},{key:"first",value:function(){if(!this.head)throw new Error("Cannot get the first element of an empty list.");return this.head.value}},{key:"last",value:function(){if(!this.tail)throw new Error("Cannot get the first element of an empty list.");return this.tail.value}},{key:"insertBefore",value:function(e,t){var n=new y(t);return this._size++,e?(e.prev?(e.prev.next=n,n.prev=e.prev):this.head=n,e.prev=n,n.next=e,n):(this.addLast(t),n)}},{key:"addFirst",value:function(e){this.insertBefore(this.head,e)}},{key:"addLast",value:function(e){this.head?(this.tail.next=new y(e),this.tail.next.prev=this.tail,this.tail=this.tail.next):this.head=this.tail=new y(e),this._size++}},{key:"add",value:function(e,t){if(e<0||e>this.size)throw new Error("Index is out of bounds.");0!==e?e!==this.size?this.insertBefore(this.getNode(e),t):this.addLast(t):this.addFirst(t)}},{key:"removeNode",value:function(e){return e.prev||e.next?(e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._size--,e.value):(this.head=this.tail=void 0,this._size=0,e.value)}},{key:"remove",value:function(e){if(e<0||e>this.size)throw new Error("Index is out of bounds.");return 0===e?this.removeFirst():e===this.size-1?this.removeLast():this.removeNode(this.getNode(e))}},{key:"removeFirst",value:function(){return this.first(),this.removeNode(this.head)}},{key:"removeLast",value:function(){return this.last(),this.removeNode(this.tail)}},{key:"get",value:function(e){var t=this.getNode(e);if(!t)throw new Error("Index is out of bounds.");return t.value}},{key:"set",value:function(e,t){var n=this.getNode(e);if(!n)throw new Error("Index is out of bounds.");n.value=t}},{key:"size",get:function(){return this._size}},{key:"iterator",value:function(){return this[Symbol.iterator]()}},{key:"toArray",value:function(){for(var e=[],t=this.head;t;)e.push(t.value),t=t.next;return e}}]),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n="list",r=new w,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t.list=r}var t,n;return t=e,(n=[{key:"enqueue",value:function(e){this.list.addLast(e)}},{key:"dequeue",value:function(){return this.list.removeFirst()}},{key:"size",get:function(){return this.list.size}},{key:"toArray",value:function(){return this.list.toArray()}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();describe("Union-Find",(function(){function e(e){var t=e(10);t.union(0,1),expect(t.isConnected(0,1)).toBe(!0),expect(t.isConnected(1,0)).toBe(!0),expect(t.isConnected(1,2)).toBe(!1),t.union(8,9),t.union(0,9),expect(t.isConnected(0,8)).toBe(!0),expect(t.isConnected(1,9)).toBe(!0),expect(t.isConnected(0,3)).toBe(!1),expect(t.isConnected(8,7)).toBe(!1)}test("Quick Find",(function(){e(n)})),test("Quick Union",(function(){e(r)})),test("Weighted Quick Union",(function(){e(i)})),test("Weighted Quick Union With Path Compression",(function(){e(o)}))})),describe("Fundamental Data Structures",(function(){test("LinkedList",(function(){var n,r=new w,i=e(10),o=function(){if(expect(r.toArray()).toEqual(i),expect(r.size).toBe(i.length),i.length>0){expect(r.first()).toBe(i[0]),expect(r.last()).toBe(i[i.length-1]);for(var e=r.iterator(),t=0;t<i.length;t++)expect(e.next().value).toBe(i[t]),expect(r.get(t)).toBe(i[t])}};for(i.forEach((function(e){return r.addLast(e)})),o(),expect(r.removeLast()).toBe(i.pop()),expect(r.removeFirst()).toBe(i.shift()),expect(r.remove(2)).toBe(i[2]),2,i=(n=i).slice(0,2).concat(n.slice(3)),o(),r.add(2,11),i=t(i,2,11),r.add(0,22),i=t(i,0,22),r.add(i.length,33),i=t(i,i.length,33),o(),r.addFirst(44),i=t(i,0,44),r.addLast(55),i=t(i,i.length,55),o();r.size;)expect(0<i.length).toBe(!0),r.removeLast();expect(r.size).toBe(0),expect((function(){r.first()})).toThrowError(),expect((function(){r.last()})).toThrowError(),expect((function(){r.get(0)})).toThrowError(),expect((function(){r.removeLast()})).toThrowError(),expect((function(){r.removeFirst()})).toThrowError(),expect(r.toArray()).toEqual([])})),test("Stack",(function(){var t=new l,n=e(10);expect(t.size).toBe(0),expect(t.pop()).toBe(void 0),n.forEach((function(e){return t.push(e)})),expect(t.size).toBe(n.length),expect(t.toArray()).toEqual(n);for(var r=n.length-1;r>=-1;r--)expect(t.pop()).toBe(n.pop()),expect(t.toArray()).toEqual(n),expect(t.size).toBe(n.length);for(var i=0;i<10;i++)t.push(i),n.push(i),expect(t.toArray()).toEqual(n),expect(t.size).toBe(n.length)})),test("Queue",(function(){var t=new g,n=e(10);expect(t.size).toBe(0),expect((function(){t.dequeue()})).toThrowError();var r=function(){expect(t.toArray()).toEqual(n),expect(t.size).toBe(n.length)};for(n.forEach((function(e){return t.enqueue(e)})),r();n.length;)expect(t.dequeue()).toBe(n.shift()),r();expect(t.size).toBe(0),expect((function(){t.dequeue()})).toThrowError()}))}))})();